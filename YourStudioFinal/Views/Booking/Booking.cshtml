@model List<YourStudioFinal.Models.Booking.BookingModel>
@inject Microsoft.AspNetCore.Identity.UserManager<YourStudioFinal.Models.User> UserManager

@{
	ViewBag.Title = "Booking";
}

<!DOCTYPE html>
<html>
<head>
    <link href="~/css/booking/Book.css" rel="stylesheet" />
</head>
<body>

    <section class="containers">
        <div class="Book">
            <div>YOUR BOOKING LIST</div>
        </div>
    </section>
<section class="containers">
    <div class="form-box">
        @Html.ActionLink("All", "BookingAll", "Booking")
        |
        @Html.ActionLink("Pending", "Booking", "Booking")
        |
        @Html.ActionLink("Accepted", "BookingAccept", "Booking")
        |
        @Html.ActionLink("Declined", "BookingDecline", "Booking")
        |
        @Html.ActionLink("Paid", "BookingPaid", "Booking")
        <br/>

        @{
            if (Model != null)
            {

                <table class="custom-table">
                    <tr>
                        <td></td>
                        <td>Date</td>
                        <td>Time</td>
                        <td>Customer ID</td>
                        <td>Username</td>
                        <td>Mobile Number</td>
                        <td>Email</td>
                        <td>Package</td>
                        <td>Add ons</td>
                        <td>Price</td>
                        <td>Payment Image</td>
                    </tr>
                    <!--foreach the booking of the user logged in-->
                    @{
                        var currentUserId = UserManager.GetUserId(User);
                    }

                    @foreach (var item in Model.Where(m => m.accountUser.Id == currentUserId))
                    {
                        <tr>
                            <td><input type="checkbox" data-id="@item.Id"/></td>
                            <td>@item.date</td>
                            <td>@item.time</td>
                            <td>@item.accountUser.Id</td>
                            <td>@item.accountUser.UserName</td>
                            <td>@item.accountUser.mobileNumber</td>
                            <td>@item.accountUser.Email</td>
                            <td>@item.packages</td>
                            <td>@item.addOns</td>
                            <td>@item.payment.</td>
                        </tr>
                    }
                </table>
            }
        }
        <br/>

        <button type="button" class="BtnCont" onclick="setDelete()">
            REMOVE
        </button>
    </div>
</section>

<script>
        setDelete = function () {
        var checked = document.querySelectorAll('input[type="checkbox"]:checked');
        var deleteContent = document.getElementById('deleteContent');
        deleteContent.action = '/Booking/DeletedBooking?ids=' + Array.from(checked).map(x => x.getAttribute('data-id')).join(',');
        deleteContent.submit();
    }
</script>

<script></script>
</body>
</html>

<footer>
    <div class="footer-container">
        <hr />
        <div class="social-icons">
            <a href="#" target="_blank"><i class="fas fa-envelope fa-2x"></i></a>
            <a href="#" target="_blank"><i class="fab fa-facebook-f fa-2x"></i></a>
            <a href="#" target="_blank"><i class="fab fa-instagram fa-2x"></i></a>
        </div>
    </div>
    <p class="copyright">&copy; 2023 Your Studio</p>
</footer>